(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4f9c19"],{"2c76":function(s,t,e){"use strict";e("e6d3")},"518b":function(s,t,e){s.exports=e.p+"img/greenhouse-img2.bab52a0c.jpg"},8233:function(s,t,e){"use strict";e("a994")},"9e94":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s._self._c;return t("div",{attrs:{id:"upload-data"}},[t("div",{staticClass:"background-container"},[s.backgroundImage?t("div",{staticClass:"background-image",style:s.backgroundImageStyle}):s._e(),t("div",{staticClass:"gradient-overlay",style:s.gradientStyle})]),t("div",{staticClass:"app-content"},[t("AppHeader",{attrs:{whiteBars:[{width:2216,height:16,x:-10,y:175,opacity:.8}]}}),t("main",{staticClass:"content"},[t("div",{staticClass:"title-container"},[t("h1",{staticClass:"title"},[s._v("Upload Data")]),t("div",{staticClass:"back-button",on:{click:s.goBack}},[t("svg",{attrs:{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M19 12H5",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M12 19L5 12L12 5",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),t("div",{staticClass:"tooltip"},[s._v("Back ")])])]),t("div",{staticClass:"description"},[s._v(" Upload your plant images for analysis with our advanced AI-powered tools. ")]),s._m(0),t("div",{staticClass:"upload-container"},[s.uploadSuccess?s._e():t("div",{staticClass:"upload-area",class:{dragging:s.isDragging,uploading:s.isUploading},on:{drop:s.handleDrop,dragover:function(s){s.preventDefault()},dragenter:function(s){s.preventDefault()}}},[s.isUploading?t("div",{staticClass:"upload-progress"},[t("div",{staticClass:"progress-spinner"}),t("p",{staticClass:"progress-text"},[s._v("Uploading "+s._s(s.selectedFiles.length)+" file(s)...")]),t("div",{staticClass:"progress-bar"},[t("div",{staticClass:"progress-fill",style:{width:s.uploadProgress+"%"}})]),t("p",{staticClass:"progress-percentage"},[s._v(s._s(Math.round(s.uploadProgress))+"%")])]):t("div",{staticClass:"upload-content"},[t("div",{staticClass:"upload-icon"},[t("svg",{attrs:{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M17 8L12 3L7 8",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M12 3V15",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("h3",{staticClass:"upload-title"},[s._v("Drag and drop your files here")]),t("p",{staticClass:"upload-subtitle"},[s._v("or click to browse")]),t("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file",multiple:"",accept:".tiff,.tif,image/*",disabled:s.isUploading},on:{change:s.handleFileSelect}}),t("button",{staticClass:"browse-button",attrs:{disabled:s.isUploading},on:{click:function(t){return s.$refs.fileInput.click()}}},[s._v(" Browse Files ")])])]),s.selectedFiles.length>0&&!s.isUploading&&!s.uploadSuccess?t("div",{staticClass:"selected-files"},[t("h4",{staticClass:"selected-title"},[s._v("Selected Files ("+s._s(s.selectedFiles.length)+")")]),t("div",{staticClass:"files-list"},s._l(s.selectedFiles,(function(e,a){return t("div",{key:a,staticClass:"file-item",class:{invalid:!e.isValid}},[t("span",{staticClass:"file-name"},[s._v(s._s(e.name))]),e.isValid?t("span",{staticClass:"file-status valid"},[s._v("✓ Valid")]):t("span",{staticClass:"file-status invalid"},[s._v("✗ Invalid: "+s._s(e.error))])])})),0),t("div",{staticClass:"upload-actions"},[t("button",{staticClass:"upload-btn",attrs:{disabled:!s.canUpload},on:{click:s.uploadFiles}},[s._v(" Upload Files ")]),t("button",{staticClass:"clear-btn",on:{click:s.clearFiles}},[s._v("Clear Selection")])])]):s._e(),s.errorMessage?t("div",{staticClass:"error-message"},[t("p",[s._v(s._s(s.errorMessage))]),t("button",{staticClass:"close-error",on:{click:function(t){s.errorMessage=""}}},[s._v("×")])]):s._e(),s.uploadSuccess?t("div",{staticClass:"success-page"},[t("div",{staticClass:"success-icon"},[t("svg",{attrs:{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M20 6L9 17L4 12",stroke:"#4ade80","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("h2",{staticClass:"success-title"},[s._v("Upload Successful!")]),t("p",{staticClass:"success-message"},[s._v(s._s(s.uploadResult.message))]),t("div",{staticClass:"success-details"},[t("p",[t("strong",[s._v("Species:")]),s._v(" "+s._s(s.uploadResult.species))]),t("p",[t("strong",[s._v("Files Uploaded:")]),s._v(" "+s._s(s.uploadResult.total_files))]),t("p",[t("strong",[s._v("Plants Processed:")]),s._v(" "+s._s(s.uploadResult.plants_processed))]),s.uploadResult.plant_ids&&s.uploadResult.plant_ids.length>0?t("p",[t("strong",[s._v("Plant IDs:")]),s._v(" "+s._s(s.uploadResult.plant_ids.join(", "))+" ")]):s._e()]),t("div",{staticClass:"success-actions"},[t("button",{staticClass:"upload-another-btn",on:{click:s.resetUpload}},[s._v(" Upload Another File ")]),t("button",{staticClass:"back-btn",on:{click:s.goBack}},[s._v(" Back to Home ")])])]):s._e()])])],1)])},i=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"upload-rules"},[t("h3",{staticClass:"rules-title"},[s._v("File Naming Rules")]),t("div",{staticClass:"rules-content"},[t("div",{staticClass:"rules-section"},[t("h4",{staticClass:"rules-section-title"},[s._v("Raw Dataset Files")]),t("p",[t("strong",[s._v("Directory Structure:")]),s._v(" "),t("code",[s._v("{Species}_dataset")])]),t("p",[t("strong",[s._v("File Format:")]),s._v(" "),t("code",[s._v("{Species}_{Date}_plant#.tiff")])]),t("p",{staticClass:"rules-example"},[t("strong",[s._v("Example:")]),s._v(" "),t("code",[s._v("Sorghum_2024-12-04_plant1.tiff")])]),t("ul",{staticClass:"rules-list"},[t("li",[s._v("Species: Capitalize first letter (e.g., Sorghum, Corn, Cotton)")]),t("li",[s._v("Date: Format as YYYY-MM-DD (e.g., 2024-12-04)")]),t("li",[s._v("Plant number: Use lowercase 'plant' followed by a number (e.g., plant1, plant2)")]),t("li",[s._v("File extension: Must be .tiff or .tif")])])]),t("div",{staticClass:"rules-section"},[t("h4",{staticClass:"rules-section-title"},[s._v("Processed Data Files")]),t("p",[t("strong",[s._v("Directory Structure:")]),s._v(" "),t("code",[s._v("{Species}_results")])]),t("p",[t("strong",[s._v("File Format:")]),s._v(" Use appropriate format for processed data files")]),t("p",{staticClass:"rules-example"},[t("strong",[s._v("Example:")]),s._v(" Results should be organized under "),t("code",[s._v("{Species}_results")]),s._v(" directory")])])])])}],l=e("a4ce"),r=e("518b"),o=e.n(r),n=e("d722"),c={name:"UploadData",components:{AppHeader:l["a"]},data(){return{backgroundImage:o.a,backgroundImageOpacity:.8,gradientTopColor:"#08B6E0",gradientBottomColor:"#05AF6B",gradientOpacity:.7,selectedFiles:[],isDragging:!1,isUploading:!1,uploadProgress:0,uploadSuccess:!1,uploadResult:null,errorMessage:""}},computed:{backgroundImageStyle(){return this.backgroundImage?{backgroundImage:`url(${this.backgroundImage})`,opacity:this.backgroundImageOpacity}:{}},gradientStyle(){const s=this.hexToRgba(this.gradientTopColor,this.gradientOpacity),t=this.hexToRgba(this.gradientBottomColor,this.gradientOpacity);return{background:`linear-gradient(to bottom, ${s}, ${t})`}},canUpload(){return this.selectedFiles.length>0&&this.selectedFiles.every(s=>s.isValid)&&!this.isUploading}},methods:{goBack(){this.$router.push({name:"HomePage"})},validateFileName(s){const t=/^([A-Z][a-z]+)_(\d{4}-\d{2}-\d{2})_plant(\d+)\.(tiff|tif)$/i,e=s.match(t);if(!e)return{isValid:!1,error:"Filename must match format: {Species}_{Date}_plant#.tiff"};const[,a,i,l]=e,r=new Date(i);return isNaN(r.getTime())?{isValid:!1,error:"Invalid date format. Use YYYY-MM-DD"}:a[0]!==a[0].toUpperCase()?{isValid:!1,error:"Species must start with capital letter"}:{isValid:!0,species:a,date:i,plantNum:l}},handleFileSelect(s){const t=Array.from(s.target.files);this.processFiles(t)},handleDrop(s){s.preventDefault(),this.isDragging=!1;const t=Array.from(s.dataTransfer.files);this.processFiles(t)},processFiles(s){this.errorMessage="",this.selectedFiles=s.map(s=>{const t=this.validateFileName(s.name);return{file:s,name:s.name,size:s.size,...t}});const t=this.selectedFiles.filter(s=>!s.isValid);t.length>0&&(this.errorMessage="Some files have invalid names. Please check the naming rules above.")},clearFiles(){this.selectedFiles=[],this.errorMessage="",this.$refs.fileInput&&(this.$refs.fileInput.value="")},async uploadFiles(){if(this.canUpload){this.isUploading=!0,this.uploadProgress=0,this.errorMessage="";try{const s=this.selectedFiles.map(s=>s.file),t=setInterval(()=>{this.uploadProgress<90&&(this.uploadProgress+=10)},200),e=await Object(n["m"])(s,"raw-files");clearInterval(t),this.uploadProgress=100,await new Promise(s=>setTimeout(s,500)),this.uploadResult=e,this.uploadSuccess=!0,this.isUploading=!1}catch(s){this.isUploading=!1,this.uploadProgress=0,this.errorMessage=s.message||"Upload failed. Please try again.",console.error("Upload error:",s)}}},resetUpload(){this.uploadSuccess=!1,this.uploadResult=null,this.selectedFiles=[],this.uploadProgress=0,this.errorMessage="",this.$refs.fileInput&&(this.$refs.fileInput.value="")},hexToRgba(s,t){const e=parseInt(s.slice(1,3),16),a=parseInt(s.slice(3,5),16),i=parseInt(s.slice(5,7),16);return`rgba(${e}, ${a}, ${i}, ${t})`}}},d=c,p=(e("2c76"),e("8233"),e("2877")),u=Object(p["a"])(d,a,i,!1,null,"c65c7da0",null);t["default"]=u.exports},a994:function(s,t,e){},e6d3:function(s,t,e){}}]);
//# sourceMappingURL=chunk-1d4f9c19.d7f6b307.js.map